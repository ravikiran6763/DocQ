<!DOCTYPE html>
<html >
<head>
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

<style>
/*@import url(http://fonts.googleapis.com/css?family=Roboto:500,100,300,700,400);*/


/* general settings */
html {
  min-height:100%;
  overflow-x:hidden;
  overflow-y:scroll;
  position:relative;
  width:100%;
}
body {
  background-color:#e6e6e6;
  color:#FFF;
  font-weight:100;
  margin:0;
  min-height:100%;
  width:100%;
}
a {
  text-decoration:none;
}
a img {
  border:none;
}
h1 {
  font-size:3.5em;
  font-weight:100;
}
p {
  font-size:1.5em;
}
input,textarea {
  -webkit-appearance:none;
  background-color:#f7f7f7;
  border:none;
  border-radius:3px;
  font-size:1em;
  font-weight:100;
}
input:focus,textarea:focus {
  border:none;
  outline:2px solid #7ed7b9;
}
.left {
  float:left;
}
.right {
  float:right;
}
.btn {
  background-color:#fff;
  border-radius:24px;
  color:#595959;
  display:inline-block;
  font-size:1.4em;
  font-weight:400;
  margin:30px 0;
  padding:10px 30px;
  text-decoration:none;
}
.btn:hover {
  opacity:0.8;
}
.wrap {
  -moz-box-sizing:border-box;
  -webkit-box-sizing:border-box;
  box-sizing:border-box;
  margin:0 auto;
  max-width:1420px;
  overflow:hidden;
  padding:0 50px;
  position:relative;
  width:100%;
}
.wrap:before {
  content:'';
  display:inline-block;
  height:100%;
  margin-right:-0.25em;
  vertical-align:middle;
}

/* header section */
header {
  height:110px;
}
header .wrap {
  height:100%;
}
header .logo {
  margin-top:1px;
}
header nav {
  float:right;
  margin-top:17px;
}
header nav ul {
  margin:1em 0;
  padding:0;
}
header nav ul li {
  display:block;
  float:left;
  margin-right:20px;
}
header nav ul li a {
  border-radius:24px;
  color:#aaa;
  font-size:1.4em;
  font-weight:400;
  padding:10px 27px;
  text-decoration:none;
}
header nav ul li a.active {
  background-color:#c33c3a;
  color:#fff;
}
header nav ul li a.active:hover {
  background-color:#d2413f;
  color:#fff;
}
header nav ul li a:hover,header nav ul li a.activeSmall {
  color:#c33c3a;
}

/* footer section */
footer .copyright {
  color:#adadad;
  margin-bottom:50px;
  margin-top:50px;
  text-align:center;
}

/* other objects */
.projectObj {
  color:#fff;
  display:block;
}
.projectObj .name {
  float:left;
  font-size:4em;
  font-weight:100;
  position:absolute;
  width:42%;
}
.projectObj .img {
  float:right;
  margin-bottom:5%;
  margin-top:5%;
  width:30%;
}

.paddRow {
  background-color:#dadada;
  color:#818181;
  display:none;
  padding-bottom:40px;
}
.paddRow.aboutRow {
  background-color:#78c2d4;
  color:#FFF !important;
  display:block;
}
.paddRow .head {
  font-size:4em;
  font-weight:100;
  margin:40px 0;
}
.paddRow .close {
  cursor:pointer;
  position:absolute;
  right:50px;
  top:80px;
  width:38px;
}

.about {
  color:#818181;
}
.about section {
  margin:0 0 10%;
}
.about .head {
  font-size:4em;
  font-weight:100;
  margin:3% 0;
}
.about .subHead {
  font-size:2.5em;
  font-weight:100;
  margin:0 0 3%;
}
.about .txt {
  width:60%;
}
.about .image {
  width:26%;
}
.about .flLeft {
  float:left;
}
.about .flRight {
  float:right;
}

.projectHead.product {
  background-color:#87b822;
}
.projectHead .picture {
  margin-bottom:6%;
  margin-top:6%;
}
.projectHead .picture.right {
  margin-right:-3.5%;
}
.projectHead .text {
  position:absolute;
  width:49%;
}
.projectHead .centerText {
  margin:0 auto;
  padding-bottom:24%;
  padding-top:6%;
  text-align:center;
  width:55%;
}

.image {
  text-align:center;
}
.image img {
  vertical-align:top;
  width:100%;
}

.contactForm {
  width:50%;
}

.input {
  -moz-box-sizing:border-box;
  -webkit-box-sizing:border-box;
  box-sizing:border-box;
  margin:1% 0;
  padding:12px 14px;
  width:47%;
}
.input.email {
  float:right;
}

button {
  border:none;
  cursor:pointer;
}
.textarea {
  -moz-box-sizing:border-box;
  -webkit-box-sizing:border-box;
  box-sizing:border-box;
  height:200px;
  margin:1% 0;
  overflow:auto;
  padding:12px 14px;
  resize:none;
  width:100%;
}

::-webkit-input-placeholder {
  color:#a7a7a7;
}
:-moz-placeholder {
  color:#a7a7a7;
}
::-moz-placeholder { /* FF18+ */
  color:#a7a7a7;
}
:-ms-input-placeholder {
  color:#a7a7a7;
}

.loader {
  -moz-animation:loader_rot 1.3s linear infinite;
  -o-animation:loader_rot 1.3s linear infinite;
  -webkit-animation:loader_rot 1.3s linear infinite;
  animation:loader_rot 1.3s linear infinite;
  height:80px;
  width:80px;
}
@-moz-keyframes loader_rot {
  from {
    -moz-transform:rotate(0deg);
  }
  to {
    -moz-transform:rotate(360deg);
  }
}
@-webkit-keyframes loader_rot {
  from {
    -webkit-transform:rotate(0deg);
  }
  to {
    -webkit-transform:rotate(360deg);
  }
}
@keyframes loader_rot {
  from {
    transform:rotate(0deg);
  }
  to {
    transform:rotate(360deg);
  }
}

.view-enter,.view-leave {
  -moz-transition:all .5s;
  -o-transition:all .5s;
  -webkit-transition:all .5s;
  transition:all .5s;
}
.view-enter {
  left:20px;
  opacity:0;
  position:absolute;
  top:0;
}
.view-enter.view-enter-active {
  left:0;
  opacity:1;
}
.view-leave {
  left:0;
  opacity:1;
  position:absolute;
  top:0;
}
.view-leave.view-leave-active {
  left:-20px;
  opacity:0;
}

/* responsive rules */

@media (max-width: 1200px) {
    body {
      font-size:90%;
    }
    h1 {
      font-size:4.3em;
    }
    p {
      font-size:1.3em;
    }
    header {
      height:80px;
    }
    header .logo {
      margin-top:12px;
      width:200px;
    }
    header nav {
      margin-top:11px;
    }
    header nav ul li {
      margin-right:12px;
    }
    header nav ul li a {
      border-radius:23px;
      font-size: 1.3em;
      padding:10px 12px;
    }
    .wrap {
      padding:0 30px;
    }
    .paddRow .close {
      right:30px;
    }
}

@media (max-width: 900px) {
    .contactForm {
      width:100%;
    }
}

@media (max-width: 768px) {
    body {
      font-size:80%;
      margin:0;
    }
    h1 {
      font-size:4em;
    }
    header {
      height:70px;
    }
    header .logo {
      margin-top:20px;
      width:70px;
    }
    header nav {
      margin-top:8px;
    }
    header nav ul li {
      margin-right:5px;
    }
    header nav ul li a {
      border-radius:20px;
      font-size:1.1em;
      padding:8px;
    }
    .wrap {
      padding:0 15px;
    }
    .projectObj .name {
      font-size:3em;
    }
    .paddRow {
      padding-bottom:30px;
    }
    .paddRow .head {
      font-size:3em;
      margin:30px 0;
    }
    .paddRow .close {
      right:20px;
      top:60px;
      width:30px;
    }
    .projectHead .picture {
      width:67%;
    }
    .projectHead .picture.right {
      margin-right:16.5%;
    }
    .projectHead .text {
      position:static;
      width:100%;
    }
    .projectHead .centerText {
      width:70%;
    }
    .view-enter,.view-leave {
      -webkit-transform:translate3d(0,0,0);
      transform:translate3d(0,0,0);
    }
}

@media (max-width: 480px) {
    body {
      font-size:70%;
      margin:0;
    }
    header {
      height:50px;
    }
    header .logo {
      display:none;
    }
    header nav {
      margin-top:3px;
    }
    header nav ul li {
      margin-right:3px;
    }
    header nav ul li a {
      border-radius:20px;
      font-size:1.3em;
      padding:5px 14px;
    }
    #contactBtn {
      display:none;
    }
    .wrap {
      padding:0 10px;
    }
    .paddRow {
      padding-bottom:20px;
    }
    .paddRow .head {
      margin:20px 0;
    }
    .paddRow .close {
      right:10px;
      top:45px;
      width:20px;
    }
    .about .image {
      margin:10% auto;
      width:60%;
    }
    .about .abIcon {
      display:inline;
    }
    .projectHead .centerText {
      width:90%;
    }
    .about .txt,.input {
      width:100%;
    }
    .about .flLeft,.about .flRight,.input.email {
      float:none;
    }
}


<!-- //////////////////////////////////////////////// -->

* {
  margin: 0;
  padding: 0;
  font-family: Ubuntu;
}
header{
  background: teal;
  height: 7vh;
  position: relative;
}
header p{
  padding-top: 3%;
    color: white;
    font-size: 20px;
}
body {
  background: #e2e2e2 !important;
  width: 100%;
  height: 100%;
 }
 .doctorInfo{
   position: absolute;
    width: 100%;
    height: 30%;

 }
 .doctorInfo img{
   background: teal;
   position: absolute;
 }
 .doctorInfo .profileImage {
   margin-top: 5%;
   width: 40%;
 }
 .doctorInfo .profileImage img {
   background: #eee;
    border-radius: 50%;
    margin-left: 3%;
    padding: 2%;
    width: 25%;
 }

 .nameContent{
    width: 66%;
    float: right;
    margin-top: 2%;
 }
 .rateField{
   margin-bottom: 6%;
    margin-top: 4%;
 }
 .formContent{
    margin: 0 auto;
     width: 96%;
     height: 30vh;
     border: 1px solid #fff;
 }
 .formContent .form-group{
   width: 100%;

        margin-top: 1%
 }
 .formContent .form-group label{
   <!-- font-size: 2.5em; -->
    position: absolute;
    margin-top:4%;
    margin-left: 1%;
 }
 input{
   width: 70%;
   height: 7vh;
   margin-bottom: 2%;
 }
 h1{
   text-align: center;
    color: white;
    font-weight: 100;
 }
 .button {
   padding: 15px 25px;
   font-size: 24px;
   text-align: center;
   cursor: pointer;
   outline: none;
   color: #fff;
   background-color: #4CAF50;
   border: none;
   float:right;
   margin-top: 2%;
   margin-right: 2%;

 }

 .button:hover {background-color: #3e8e41}

 .button:active {
   background-color: #3e8e41;
   box-shadow: 0 5px #666;
   transform: translateY(4px);
 }
 h2{

    font-weight: 400;
    font-family: Ubuntu;
 }
 h3{

    font-weight: 400;
    font-family: Ubuntu;
 }
.cont {
  width: 93%;
  max-width: 350px;
  text-align: center;
  margin: 4% auto;
  padding: 30px 0;
  background: #111;
  color: #EEE;
  border-radius: 5px;
  border: thin solid #444;
  overflow: hidden;
}

hr {
  margin: 20px;
  border: none;
  border-bottom: thin solid rgba(255,255,255,.1);
}

div.title {
  <!-- font-size: 2em;  -->
}

h1 span {
  font-weight: 300;
  color: #Fd4;
}

div.stars {
  width: 270px;
  display: inline-block;
}

input.star { display: none; }

label.star {
  float: right;
  padding: 10px;
  <!-- font-size: 36px; -->
  color: #444;
  transition: all .2s;
}

input.star:checked ~ label.star:before {
  content: '\f005';
  color: #FD4;
  transition: all .25s;
}

input.star-5:checked ~ label.star:before {
  color: #FE7;
  text-shadow: 0 0 20px #952;
}

input.star-1:checked ~ label.star:before { color: #F62; }

label.star:hover { transform: rotate(-15deg) scale(1.3); }

label.star:before {
  content: '\f006';
  font-family: FontAwesome;
}
.rating{
  color: #a9a9a9;
    margin: 0;
    padding: 0;
    position: absolute;
    margin-top: -7%;
    margin-left: 22%;
    font-size: 1.6em;
}

ul.rating {
  display: inline-block;
}

.rating li {
  list-style-type: none;
  display: inline-block;
  padding: 1px;
  text-align: center;
  font-weight: bold;
  cursor: pointer;
}

.rating .filled {
  color: #f8f48a;
}


.rating-box {
 background: url("../images/bkg_rating.png") repeat-x;
 <!-- font-size: 0; -->
 height: 13px;
 line-height: 0;
 overflow: hidden;
 text-indent: -999em;
 width: 70px;
}

.rating-box .rating {
 background: url("../images/bkg_rating.png") repeat-x;
 background-position: 0 100%;
 float: left;
 height: 13px;
}


.average-rating-container {
  position:relative;
  height:31px;
  width:103px;
  overflow:hidden;

  .background,
  .foreground {
    position: absolute;
    top:0;
    left:0;
    overflow:hidden;
    white-space: nowrap;
  }
}
</style>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

<script>
var DoctorQuick = angular.module('DoctorQuick', []);
DoctorQuick.config(['$locationProvider', function($locationProvider){


    $locationProvider.html5Mode({
        enabled: true,
        requireBase: false
    });
}]);
DoctorQuick.controller('doctorCtrl', function($location,$scope,$rootScope,$http) {

<!-- console.log($location.url()); -->
var link=$location.url();

$scope.$location = $location;
  $scope.ur = $scope.$location.url(link);
  $scope.loc1 = $scope.$location.search().doc ;
console.log($scope.loc1)


<!-- var doc = $routeParams.doc; -->
var doctor = {
  number: $scope.loc1
}
console.log(doctor);
   $http.post("rating.php",doctor).then(function (data, status, response, config){
     console.log(data);
      <!-- console.log(data.data[0]); -->
     $rootScope.rateDoctor = data.data;
     console.log( $rootScope.rateDoctor);
   });

   $scope.rating = 5;
      $scope.rateFunction = function(rating) {
        console.log('Rating selected - ' + rating);
        $scope.rates=rating;
      };
      $scope.Patient={};

      $scope.giveRatings=function () {
      $scope.userFname = $scope.Patient.fname;
      $scope.userLname = $scope.Patient.lname;

      var dataToSend={
        fname:$scope.userFname,
        lname:$scope.userLname,
        rates:$scope.rates
      }
    console.log(dataToSend);


<!--
    var url = 'http://ec2-52-66-68-161.ap-south-1.compute.amazonaws.com/ratings/test1/ratingsByuser.php', data = dataToSend;
    $http.post(url, data).then(function (data,response) {
      console.log(data);
    }, function (response) {
    });
 -->




      }


});
DoctorQuick.directive("averageStarRating", function() {
  return {
    restrict : "EA",
    template : "<div class='average-rating-container'>" +
               "  <ul class='rating background' class='readonly'>" +
               "    <li ng-repeat='star in stars' class='star'>" +
               "      <i class='fa fa-star'></i>" + //&#9733
               "    </li>" +
               "  </ul>" +
               "  <ul class='rating foreground' class='readonly' style='width:{{filledInStarsContainerWidth}}%'>" +
               "    <li ng-repeat='star in stars' class='star filled'>" +
               "      <i class='fa fa-star'></i>" + //&#9733
               "    </li>" +
               "  </ul>" +
               "</div>",
    scope : {
      averageRatingValue : "=ngModel",
      max : "=?", //optional: default is 5
    },
    link : function(scope, elem, attrs) {
      if (scope.max == undefined) { scope.max = 5; }
      function updateStars() {
        scope.stars = [];
        for (var i = 0; i < scope.max; i++) {
          scope.stars.push({});
        }
        var starContainerMaxWidth = 100; //%
        scope.filledInStarsContainerWidth = scope.averageRatingValue / scope.max * starContainerMaxWidth;
      };
      scope.$watch("averageRatingValue", function(oldVal, newVal) {
        if (newVal) { updateStars(); }
      });
    }
  };
});

DoctorQuick.directive('starRating',
	function() {
		return {
			restrict : 'A',
			template : '<ul class="rating">'
					 + '	<li ng-repeat="star in stars" ng-class="star" ng-click="toggle($index)">'
					 + '\u2605'
					 + '</li>'
					 + '</ul>',
			scope : {
				ratingValue : '=',
				max : '=',
				onRatingSelected : '&'
			},
			link : function(scope, elem, attrs) {
				var updateStars = function() {
					scope.stars = [];
					for ( var i = 0; i < scope.max; i++) {
						scope.stars.push({
							filled : i < scope.ratingValue
						});
					}
				};

				scope.toggle = function(index) {
					scope.ratingValue = index + 1;
					scope.onRatingSelected({
						rating : index + 1
					});
				};

				scope.$watch('ratingValue',
					function(oldVal, newVal) {
						if (newVal) {
							updateStars();
						}
					}
				);
			}
		};
	}
);
DoctorQuick.filter('capitalize', function() {
    return function(input, scope) {
      if (input!=null) {
          var stringArr = input.split(" ");
          var result = "";
          var cap = stringArr.length;
          for(var x = 0; x < cap; x++) {
            stringArr[x].toLowerCase();
            if(x === cap - 1) {
              result += stringArr[x].substring(0,1).toUpperCase() + stringArr[x].substring(1);
            } else {
              result += stringArr[x].substring(0,1).toUpperCase() + stringArr[x].substring(1) + " ";
            }
          }
        return result;
      }
    }
  });
</script>

</head>
<body>

<div ng-app="DoctorQuick" ng-controller="doctorCtrl">
    <header>
    <center>  <p>Review Doctor</p></center>
    </header>

    <div class="doctorInfo"  ng-repeat="consult in rateDoctor">

        <div >
            <!-- <img src="./img/doc.jpg"> -->
          <img  class="img-circle" alt="Cinque Terre" width="304" height="236" ng-hide="consult.docImage2 == null "ng-src="{{consult.docImage2}}"   >
          <img  class="img-circle" alt="Cinque Terre" width="304" height="236" ng-show="consult.docImage2 == null " ng-src="icon.png" >
        </div>
        <div class="nameContent">
            <h2>Dr.{{consult.doctorFname | capitalize}} {{consult.doctorMname | capitalize}} {{consult.doctorLname | capitalize}}</h2>
            <h2>{{consult.doctorDegrees}}<br> </h2>
            <h3>Practising since {{consult.practicingSince}}</h3>
            <!-- <div class="star-box" style="display: inline-block;width:auto ;white-space: nowrap;">
              <span class="unfilled" style="color:#d3d3d3; position: absolute;top: 0;left: 0;">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
              <span class="filled" style="color:#e9ce18; white-space: nowrap; overflow: hidden;position: absolute;top: 0;left: 0;width:65px">&#9733;&#9733;&#9733;&#9733;&#9733;</span>

            </div> -->
            <div class="average">
                <average-star-rating ng-model="averageRating" max="5"><average-star-rating>
              </div>
        </div>
    </div>

    <form ng-submit="save()" class="contactForm" name="form" ng-hide="loaded">
      <div style="margin-top: 45%;">
        <div class="formContent" >
          <div class="rateField">
            <div class="form-group">
              <label for="lname">Ratings</label>
            </div>
            <div ng-init="rating = star.rating + 1"></div>
            <div class="star-rating" star-rating rating-value="rating"
             data-max="5" on-rating-selected="rateFunction(rating)"></div>
          </div>



          <div class="form-group" >
            <label for="fname">First Name</label>

            <input type="text" class="form-control" id="fname" placeholder="First Name" name="fname" ng-model="Patient.fname"  required>
          </div>
          <div class="form-group" >
            <label for="lname">Last Name</label>

            <input type="text" class="form-control" placeholder="Last Name" name="mname" ng-model="Patient.lname" required >
          </div>

        </div>
      </div>

      <button type="button" class="button" ng-click="giveRatings()">Send</button>


    </form>
    <!-- <form ng-submit="save()" class="contactForm" name="form" ng-hide="loaded" style="margin-top:12em !important;">
      <div class="rateField">
        <div class="form-group">
          <label for="lname">Ratings</label>
        </div>
        <div ng-init="rating = star.rating + 1"></div>
        <div class="star-rating" star-rating rating-value="rating"
         data-max="5" on-rating-selected="rateFunction(rating)"></div>
      </div>
        <input class="input" required="required" type="text" name="fname" placeholder="First Name" ng-model="Patient.fname" />
        <input class="input email" required="required" type="text" name="lname" value="" placeholder="Last Name" ng-model="Patient.lname" /><br />
        <button class="button">send message</button>
    </form> -->

</div>
</body>
</html>
